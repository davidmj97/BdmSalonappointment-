<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>BDMSALON Home Page</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Montserrat 400, 600, 900 (for Extra Bold) -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;900&display=swap" rel="stylesheet">
  <!-- Swiper CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
  <style>
    :root {
      --primary-dark: #13131a;
      --primary-black: #0b0b10;
      --gray: #22232a;
      --btn-gradient: linear-gradient(90deg, #233dff 0%, #1a237e 100%);
      --white: #fff;
      --header-blur: blur(14px);
      --header-height: 76px;
    }
    html {
      scroll-behavior: smooth;
    }
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Montserrat', Arial, sans-serif;
    }
    body {
      background: var(--primary-black);
      min-height: 100vh;
      color: var(--white);
    }
    header {
      width: 100vw;
      position: fixed;
      top: 0;
      left: 0;
      z-index: 99;
      background: rgba(0,0,0,0.72);
      backdrop-filter: blur(14px);
      display: flex;
      align-items: center;
      transition: background 0.35s;
      height: var(--header-height);
      border-bottom: 1px solid #232338;
      box-shadow: 0 2px 6px rgba(20,20,40,0.18);
    }
    header.transparent {
      background: rgba(19,19,26,0.54);
      backdrop-filter: blur(14px);
    }
    .header-container {
      max-width: 1280px;
      margin: 0 auto;
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 32px;
      height: var(--header-height);
    }
    .header-container > * { min-width: 0; }
    .logo {
      display: flex;
      align-items: center;
      font-size: 1.5rem;
      font-weight: 700;
      letter-spacing: 1px;
      color: var(--white);
      user-select: none;
      gap: 8px;
      cursor: pointer;
      transition: transform 0.18s;
      white-space: nowrap;
    }
    .logo img {
      height: 38px;
      width: 38px;
      border-radius: 50%;
      background: var(--btn-gradient);
      object-fit: cover;
      border: 2px solid #233dff;
    }
    .logo:hover { transform: scale(1.09); }
    nav {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 28px;
      flex: 1;
      margin-left: 38px;
      min-width: 0;
      transition: transform 0.18s;
      white-space: nowrap;
    }
    .nav-link {
      color: var(--white);
      text-decoration: none;
      font-size: 1.05rem;
      font-weight: 500;
      background: none;
      border: none;
      padding: 8px 18px;
      border-radius: 6px;
      transition: background 0.2s, color 0.2s, transform 0.18s;
      cursor: pointer;
      position: relative;
      white-space: nowrap;
      display: inline-block;
    }
    .nav-link:hover, .nav-link.active {
      background: var(--btn-gradient);
      color: var(--white);
      transform: scale(1.07);
    }
    .header-right {
      display: flex;
      align-items: center;
      gap: 16px;
      margin-left: 38px;
      min-width: 0;
      white-space: nowrap;
    }
    .bookings-btn {
      display: flex;
      align-items: center;
      gap: 7px;
      background: var(--btn-gradient);
      color: var(--white);
      border: none;
      border-radius: 6px;
      font-weight: 600;
      padding: 9px 18px 9px 14px;
      font-size: 1.05rem;
      cursor: pointer;
      transition: background 0.2s, color 0.2s, transform 0.18s;
      outline: none;
      position: relative;
      white-space: nowrap;
    }
    .bookings-btn:hover {
      background: #1a237e;
      color: var(--white);
      transform: scale(1.07);
    }
    .bookings-btn svg {
      vertical-align: middle;
      width: 20px;
      height: 20px;
      fill: currentColor;
      transition: fill 0.2s;
    }
    .profile-btn {
      display: flex;
      align-items: center;
      background: var(--gray);
      border: none;
      border-radius: 999px;
      padding: 7px 16px 7px 6px;
      gap: 10px;
      cursor: pointer;
      transition: background 0.2s, transform 0.18s;
      position: relative;
      white-space: nowrap;
    }
    .profile-btn:hover {
      background: #1a237e;
      transform: scale(1.07);
    }
    .profile-avatar {
      background: var(--btn-gradient);
      color: var(--white);
      font-size: 1.15rem;
      font-weight: 700;
      width: 32px;
      height: 32px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      border: 2px solid #233dff;
      margin-right: 4px;
    }
    .profile-edit {
      position: absolute;
      bottom: 2px;
      right: 2px;
      background: var(--primary-dark);
      border-radius: 50%;
      padding: 2px;
      display: flex;
      align-items: center;
      justify-content: center;
      width: 16px;
      height: 16px;
      border: 1px solid #233dff;
      transition: background 0.2s, border 0.2s;
      opacity: 0;
      pointer-events: none;
      z-index: 1;
    }
    .profile-btn:hover .profile-edit {
      opacity: 1;
      pointer-events: auto;
      background: #1a237e;
      border-color: var(--white);
    }
    .profile-edit svg {
      width: 10px;
      height: 10px;
      fill: var(--white);
    }
    .profile-name {
      font-size: 1.01rem;
      font-weight: 600;
      color: var(--white);
      margin-left: 2px;
      margin-right: 2px;
      letter-spacing: 0.1px;
      user-select: none;
    }
    .mobile-menu-icon {
      display: none;
      background: none;
      border: none;
      color: var(--white);
      font-size: 2.3rem;
      cursor: pointer;
      margin-left: 10px;
      transition: transform 0.18s;
      z-index: 200;
    }
    .mobile-menu-icon:hover { transform: scale(1.13); }
    .mobile-nav {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(19,19,26,0.98);
      z-index: 199;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      padding-top: 40px;
    }
    .mobile-nav > * { margin-bottom: 18px; white-space: nowrap; }
    .mobile-nav .logo { font-size: 2rem; margin-bottom: 30px; }
    .mobile-nav .header-mobile-btns {
      display: none !important;
    }
    .mobile-nav .nav-link {
      width: 100vw;
      padding: 16px 32px;
      font-size: 1.25rem;
      background: none;
      text-align: left;
      margin: 0;
      border-radius: 0;
      border-bottom: 1px solid #22253a;
      display: block;
    }
    .mobile-nav .nav-link:last-child { border-bottom: none; }

    .hero-section {
      width: 100vw;
      height: 100vh;
      min-height: 100vh;
      max-height: 100vh;
      position: relative;
      display: flex;
      align-items: flex-end;
      justify-content: center;
      padding: 0;
      overflow: hidden;
      background: var(--primary-dark);
      z-index: 1;
    }
    .hero-bg {
      position: absolute;
      top: 0; left: 0; width: 100vw; height: 100vh;
      z-index: 1;
      background: var(--primary-dark);
      pointer-events: none;
    }
    .hero-bg-desktop {
      display: block;
      width: 100vw;
      height: 100vh;
      object-fit: cover;
      object-position: center;
      position: absolute;
      top: 0; left: 0;
      z-index: 1;
    }
    .hero-bg-mobile {
      display: none;
    }
    .hero-content {
      position: relative;
      z-index: 3;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-end;
      width: 100vw;
      height: 100vh;
      max-height: 100vh;
      background: none;
      pointer-events: none;
    }
    .hero-btns {
      display: flex;
      gap: 28px;
      margin-bottom: 54px;
      justify-content: center;
      pointer-events: auto;
      flex-direction: row;
    }
    .hero-btn {
      min-width: 235px;
      min-height: 54px;
      background: var(--btn-gradient);
      color: var(--white);
      border: none;
      outline: none;
      border-radius: 10px;
      font-size: 1.16rem;
      font-weight: 700;
      font-family: 'Montserrat', Arial, sans-serif;
      padding: 0 34px;
      cursor: pointer;
      box-shadow: 0 2px 12px 0 #0005;
      transition: background 0.2s, transform 0.15s, color 0.2s;
      letter-spacing: 0.5px;
      display: flex;
      align-items: center;
      justify-content: center;
      white-space: nowrap;
      backdrop-filter: none;
    }
    .hero-btn.secondary {
      background: rgba(255,255,255,0.22);
      color: var(--white);
      border: 1.5px solid rgba(30,35,60,0.16);
      font-weight: 700;
      box-shadow: 0 2px 12px 0 #0003;
      backdrop-filter: blur(16px);
      text-shadow: 0 1px 9px #0002;
    }
    .hero-btn.secondary:hover, .hero-btn.secondary:focus {
      background: rgba(220,220,255,0.28);
      color: var(--white);
    }
    .hero-btn:hover, .hero-btn:focus {
      background: #1a237e;
      color: var(--white);
      transform: translateY(-2px) scale(1.045);
    }
    .hero-btn, .hero-btn.secondary {
      border-radius: 10px;
      min-width: 235px;
      min-height: 54px;
      max-width: 300px;
      font-size: 1.16rem;
      font-weight: 700;
      white-space: nowrap;
    }
    @media (max-width: 900px) {
      .header-container { padding: 0 6px; }
      .logo img { height: 32px; width: 32px; }
      .logo { font-size: 1.1rem; }
      .profile-avatar { width: 24px; height: 24px; font-size: 0.95rem; }
      nav { margin-left: 10px; gap: 8px; }
      .header-right { margin-left: 10px; gap: 7px; }
      .hero-btn, .hero-btn.secondary {
        min-width: 140px;
        min-height: 38px;
        font-size: 0.97rem;
      }
    }
    @media (max-width: 800px) {
      header {
        height: 56px;
        min-height: 56px;
        max-height: 56px;
      }
      .header-container {
        height: 56px;
        min-height: 56px;
        max-height: 56px;
        padding: 0 3vw;
      }
      nav, .logo, .header-right { display: none !important; }
      .mobile-menu-icon { display: block; }
      .hero-section {
        height: 100vh;
        min-height: 100vh;
        max-height: 100vh;
      }
      .hero-bg-desktop { display: none !important; }
      .hero-bg-mobile {
        display: block !important;
        width: 100vw;
        height: 100vh;
        object-fit: cover;
        object-position: center;
        position: absolute;
        top: 0; left: 0;
        z-index: 1;
      }
      .hero-content {
        height: 100vh;
        max-height: 100vh;
        min-height: 100vh;
        justify-content: flex-end;
        align-items: center;
        padding-top: 60px;
        padding-bottom: 0;
      }
      .hero-btns {
        gap: 13px;
        flex-direction: column;
        margin-bottom: 26px;
      }
      .hero-btn, .hero-btn.secondary {
        min-width: 60vw !important;
        max-width: 92vw;
        width: 80vw;
        font-size: 1.01rem;
        padding: 0 10px;
        min-height: 38px;
      }
      .mobile-fixed-profile {
        display: flex !important;
        position: fixed;
        top: 12px;
        right: 18px;
        z-index: 300;
        flex-direction: row;
        gap: 0;
      }
      .mobile-fixed-profile .profile-btn {
        padding: 4px 8px 4px 5px;
        font-size: 0.9rem;
        background: var(--gray);
        min-width: unset;
        min-height: unset;
        height: 38px;
      }
      .mobile-fixed-profile .profile-avatar {
        width: 22px;
        height: 22px;
        font-size: 0.77rem;
      }
      .mobile-fixed-bookings {
        display: flex !important;
        position: fixed;
        bottom: 18px;
        right: 16px;
        z-index: 300;
      }
      .mobile-fixed-bookings .bookings-btn {
        padding: 7px 14px 7px 10px;
        font-size: 0.91rem;
        min-width: unset;
        min-height: unset;
        border-radius: 20px;
        height: 38px;
      }
      .mobile-fixed-profile,
      .mobile-fixed-bookings {
        pointer-events: auto;
      }
    }
    @media (max-width: 440px) {
      .hero-btn, .hero-btn.secondary {
        min-width: 60vw !important;
        max-width: 60vw;
        width: 60vw;
        font-size: 0.80rem;
        padding: 0 7px;
      }
      .mobile-fixed-profile .profile-btn {
        font-size: 0.81rem;
        height: 32px;
      }
      .mobile-fixed-profile .profile-avatar {
        width: 18px;
        height: 18px;
        font-size: 0.61rem;
      }
      .mobile-fixed-bookings .bookings-btn {
        font-size: 0.78rem;
        height: 32px;
      }
    }
    .mobile-fixed-profile,
    .mobile-fixed-bookings {
      display: none;
    }
    /* Account Sheet Modal Styles */
    .sheet {
      position: fixed;
      left: 0;
      right: 0;
      bottom: -100%;
      background: #fff;
      color: #000;
      border-top-left-radius: 18px;
      border-top-right-radius: 18px;
      box-shadow: 0 -4px 20px #0005;
      max-height: 92vh;
      overflow-y: auto;
      transition: bottom .35s;
      z-index: 3000;
      padding: 24px 22px;
      font-size: 15px;
    }
    .sheet.open {
      bottom: 0;
    }
    .close-x {
      position: absolute;
      top: 12px;
      right: 14px;
      font-size: 20px;
      font-weight: 600;
      cursor: pointer;
    }
    .sheet input {
      width: 100%;
      padding: 10px;
      margin-bottom: 12px;
      font-size: 15px;
      border: 1.2px solid #ccc;
      border-radius: 6px;
    }
    .save-btn {
      display: block;
      margin: 18px auto 0;
      padding: 12px 28px;
      border: none;
      border-radius: 8px;
      background: #13131a;
      color: #fff;
      font-size: 15px;
      font-weight: 700;
      cursor: pointer;
    }
    .signout-btn {
      width: 100%;
      margin-top: 20px;
      padding: 12px;
      border: none;
      border-radius: 8px;
      background: #22232a;
      color: #fff;
      font-size: 15px;
      cursor: pointer;
    }
    .reset-link {
      font-size: 13px;
      text-align: center;
      margin-top: 2px;
    }
    .reset-link a {
      font-weight: 700;
      color: #13131a;
      text-decoration: none;
    }
    @media (max-width: 800px) {
      .sheet {
        max-height: 98vh;
        padding: 14px 8px;
        font-size: 14px;
      }
    }
  </style>
</head>
<body>
  <div id="homepage"></div>
  <!-- HEADER -->
  <header id="mainHeader">
    <div class="header-container">
      <div class="logo">
        <img src="https://cdn-icons-png.flaticon.com/512/2922/2922082.png" alt="Salon Logo">
        BDMSALON
      </div>
      <nav>
        <button class="nav-link active" data-scroll="homepage">Home</button>
        <button class="nav-link" data-scroll="serviceSectionContainer">Services</button>
        <button class="nav-link" data-scroll="gallery-section-placeholder">Gallery</button>
        <button class="nav-link" data-scroll="about-section-container">About</button>
        <button class="nav-link" data-scroll="contact-section-container">Contact</button>
      </nav>
      <div class="header-right">
        <button class="bookings-btn" title="My Bookings">
          <svg viewBox="0 0 24 24"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.1 0-2 .9-2 2v15c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 17H5V8h14v12zm0-14H5V5h14v1z"></path></svg>
          My Bookings
        </button>
        <button class="profile-btn" title="Profile" id="profileBtnHeader">
          <span class="profile-avatar" id="profileAvatarHeader">B</span>
          <span class="profile-name" id="profileNameHeader">Profile</span>
          <span class="profile-edit">
            <svg viewBox="0 0 20 20"><path d="M17.414 2.586a2 2 0 00-2.828 0l-8.95 8.95a1 1 0 00-.263.464l-1.05 3.515a1 1 0 001.262 1.262l3.516-1.05a1 1 0 00.464-.263l8.949-8.95a2 2 0 000-2.828zm-10.121 10.95l7.071-7.071 1.414 1.414-7.071 7.07-1.414-1.413zm-1.414-1.415l1.415 1.415-1.415 1.413.001-2.828z"></path></svg>
          </span>
        </button>
      </div>
      <button class="mobile-menu-icon" id="mobileMenuToggle" aria-label="Open menu">&#9776;</button>
    </div>
    <div class="mobile-nav" id="mobileNav">
      <div class="logo">
        <img src="https://cdn-icons-png.flaticon.com/512/2922/2922082.png" alt="Salon Logo">
        BDMSALON
      </div>
      <button class="nav-link active" data-scroll="homepage">Home</button>
      <button class="nav-link" data-scroll="serviceSectionContainer">Services</button>
      <button class="nav-link" data-scroll="gallery-section-placeholder">Gallery</button>
      <button class="nav-link" data-scroll="about-section-container">About</button>
      <button class="nav-link" data-scroll="contact-section-container">Contact</button>
    </div>
  </header>

  <!-- Fixed Profile Button (Mobile Only) -->
  <div class="mobile-fixed-profile">
    <button class="profile-btn" title="Profile" id="profileBtnMobile">
      <span class="profile-avatar" id="profileAvatarMobile">B</span>
      <span class="profile-name" id="profileNameMobile">Profile</span>
      <span class="profile-edit">
        <svg viewBox="0 0 20 20"><path d="M17.414 2.586a2 2 0 00-2.828 0l-8.95 8.95a1 1 0 00-.263.464l-1.05 3.515a1 1 0 001.262 1.262l3.516-1.05a1 1 0 00.464-.263l8.949-8.95a2 2 0 000-2.828zm-10.121 10.95l7.071-7.071 1.414 1.414-7.071 7.07-1.414-1.413zm-1.414-1.415l1.415 1.415-1.415 1.413.001-2.828z"></path></svg>
      </span>
    </button>
  </div>
  <div class="mobile-fixed-bookings">
    <button class="bookings-btn" title="My Bookings" id="bookingsBtnMobile">
      <svg viewBox="0 0 24 24"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.1 0-2 .9-2 2v15c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 17H5V8h14v12zm0-14H5V5h14v1z"></path></svg>
      My Bookings
    </button>
  </div>

  <!-- Account Sheet Modal -->
  <aside class="sheet" id="accountSheet">
    <span class="close-x" id="closeSheetX">&times;</span>
    <h3>Account</h3>
    <input id="displayName" placeholder="Full name">
    <input id="phone" placeholder="Phone number">
    <input id="email" placeholder="Email">
    <div class="reset-link">Forgot password? <a href="#" id="resetPwdLink">Reset</a></div>
    <div id="resetBox" style="display:none;margin-top:10px;">
      <input id="resetEmail" placeholder="Enter your email">
      <button class="save-btn" id="sendResetBtn" style="margin-top:10px;width:100%;max-width:160px;">Send</button>
    </div>
    <button class="save-btn" id="saveBtn">Save Changes</button>
    <button class="signout-btn" id="signoutBtn">Sign Out</button>
  </aside>

  <!-- HERO SECTION -->
  <section class="hero-section">
    <div class="hero-bg">
      <img class="hero-bg-desktop" src="https://raw.githubusercontent.com/davidmj97/BdmSalonappointment-/refs/heads/main/Experience%20Precision%20(1).png" alt="Salon Hero Image">
      <img class="hero-bg-mobile" src="https://raw.githubusercontent.com/davidmj97/BdmSalonappointment-/refs/heads/main/Experience%20Precision.png" alt="Salon Hero Image Mobile">
    </div>
    <div class="hero-content">
      <div class="hero-btns">
        <button class="hero-btn" id="bookNowBtn">Book Your Appointment</button>
        <button class="hero-btn secondary" id="viewServicesBtn">View Our Services</button>
      </div>
      <div style="position: relative; width: 100%; overflow: hidden; line-height: 0;">
        <svg viewBox="0 0 100 100" preserveAspectRatio="none"
             style="display: block; width: 100%; height: 50px;">
          <polygon points="0,100 50,0 100,100" style="fill: #13131a;"></polygon>
        </svg>
      </div>
    </div>
  </section>

  <div id="serviceSectionContainer"></div>
  <div style="position: relative; width: 100%; overflow: hidden; line-height: 0;">
    <svg viewBox="0 0 100 100" preserveAspectRatio="none"
         style="display: block; width: 100%; height: 50px;">
      <polygon points="0,100 50,0 100,100" style="fill: #13131a;"></polygon>
    </svg>
  </div>
  <div id="gallery-section-placeholder"></div>
  <div style="position: relative; width: 100%; overflow: hidden; line-height: 0;">
    <svg viewBox="0 0 100 100" preserveAspectRatio="none"
         style="display: block; width: 100%; height: 50px;">
      <polygon points="0,100 50,0 100,100" style="fill: #13131a;"></polygon>
    </svg>
  </div>
  <div id="about-section-container"></div>
  <div style="position: relative; width: 100%; overflow: hidden; line-height: 0;">
    <svg viewBox="0 0 100 100" preserveAspectRatio="none"
         style="display: block; width: 100%; height: 50px;">
      <polygon points="0,100 50,0 100,100" style="fill: #13131a;"></polygon>
    </svg>
  </div>
  <div id="review-section-container"></div>
  <div style="position: relative; width: 100%; overflow: hidden; line-height: 0;">
    <svg viewBox="0 0 100 100" preserveAspectRatio="none"
         style="display: block; width: 100%; height: 50px;">
      <polygon points="0,100 50,0 100,100" style="fill: #13131a;"></polygon>
    </svg>
  </div>
  <div id="contact-section-container"></div>
  <div id="footer-container"></div>

  <!-- Firebase scripts -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
  <script>
    firebase.initializeApp({
      apiKey: "AIzaSyAmimDsjW_pF2NGw-w-40QzTsgmf1tdqyI",
      authDomain: "bdmsalonappointment.firebaseapp.com",
      projectId: "bdmsalonappointment"
    });
    const auth = firebase.auth();
    const db = firebase.firestore();

    const profileBtnHeader = document.getElementById('profileBtnHeader');
    const profileBtnMobile = document.getElementById('profileBtnMobile');
    const accountSheet = document.getElementById('accountSheet');
    const closeSheetX = document.getElementById('closeSheetX');
    const displayNameIn = document.getElementById('displayName');
    const phoneIn = document.getElementById('phone');
    const emailIn = document.getElementById('email');
    const resetPwdLink = document.getElementById('resetPwdLink');
    const resetBox = document.getElementById('resetBox');
    const resetEmailIn = document.getElementById('resetEmail');
    const sendResetBtn = document.getElementById('sendResetBtn');
    const saveBtn = document.getElementById('saveBtn');
    const signoutBtn = document.getElementById('signoutBtn');
    const profileAvatarHeader = document.getElementById('profileAvatarHeader');
    const profileAvatarMobile = document.getElementById('profileAvatarMobile');
    const profileNameHeader = document.getElementById('profileNameHeader');
    const profileNameMobile = document.getElementById('profileNameMobile');

    function openAccountSheet() {
      accountSheet.classList.add('open');
    }
    function closeAccountSheet() {
      accountSheet.classList.remove('open');
      resetBox.style.display = 'none';
    }
    profileBtnHeader.addEventListener('click', openAccountSheet);
    profileBtnMobile.addEventListener('click', openAccountSheet);
    closeSheetX.addEventListener('click', closeAccountSheet);

    auth.onAuthStateChanged(u => {
      if (!u) { window.location.href = 'index.html'; return; }
      let initial = (u.displayName || 'U')[0].toUpperCase();
      profileAvatarHeader.textContent = initial;
      profileAvatarMobile.textContent = initial;
      profileNameHeader.textContent = u.displayName || 'Profile';
      profileNameMobile.textContent = u.displayName || 'Profile';
      displayNameIn.value = u.displayName || '';
      emailIn.value = u.email || '';
      phoneIn.value = localStorage.getItem('phone_' + u.uid) || '';
    });

    saveBtn.onclick = async () => {
      const u = auth.currentUser; if (!u) return;
      try {
        if (displayNameIn.value !== u.displayName)
          await u.updateProfile({ displayName: displayNameIn.value });
        if (emailIn.value !== u.email)
          await u.updateEmail(emailIn.value);
        localStorage.setItem('phone_' + u.uid, phoneIn.value);
        alert('Saved!');
        closeAccountSheet();
        profileAvatarHeader.textContent = (displayNameIn.value || 'U')[0].toUpperCase();
        profileAvatarMobile.textContent = (displayNameIn.value || 'U')[0].toUpperCase();
        profileNameHeader.textContent = displayNameIn.value || 'Profile';
        profileNameMobile.textContent = displayNameIn.value || 'Profile';
      } catch (e) { alert(e.message); }
    };

    resetPwdLink.onclick = e => {
      e.preventDefault();
      resetBox.style.display = 'block';
      resetEmailIn.value = emailIn.value;
    };
    sendResetBtn.onclick = async () => {
      try {
        await auth.sendPasswordResetEmail(resetEmailIn.value.trim());
        alert('Reset e-mail sent!');
        resetBox.style.display = 'none';
      } catch (e) { alert(e.message); }
    };

    signoutBtn.onclick = () => {
      auth.signOut().then(() => {
        window.location.href = 'index.html';
      });
    };

    function openBookings() {
      window.location.href = 'bookings.html';
    }
    document.querySelectorAll('.bookings-btn').forEach(el =>
      el.addEventListener('click', openBookings)
    );

    document.getElementById('bookNowBtn').onclick = () => {
      window.location.href = 'booknow.html';
    };
    document.getElementById('viewServicesBtn').onclick = () => {
      window.location.href = 'ourservices.html';
    };

    fetch('aboutsection.html')
      .then(response => {
        if (!response.ok) throw new Error('Failed to load About Section');
        return response.text();
      })
      .then(html => {
        document.getElementById('about-section-container').innerHTML = html;
      })
      .catch(error => {
        console.error('Error loading About Section:', error);
      });
    fetch('footer.html')
      .then(res => {
        if (!res.ok) throw new Error('Failed to load Footer');
        return res.text();
      })
      .then(html => {
        document.getElementById('footer-container').innerHTML = html;
      })
      .catch(error => console.error('Footer loading error:', error));
    fetch('contactsection.html')
      .then(res => {
        if (!res.ok) throw new Error('Failed to load Contact Section');
        return res.text();
      })
      .then(html => {
        document.getElementById('contact-section-container').innerHTML = html;
      })
      .catch(error => console.error('Contact Section error:', error));
    fetch('reviewsection.html')
      .then(res => {
        if (!res.ok) throw new Error('Failed to load Review Section');
        return res.text();
      })
      .then(html => {
        document.getElementById('review-section-container').innerHTML = html;
        new Swiper('.swiper', {
          slidesPerView: 1,
          spaceBetween: 14,
          loop: true,
          breakpoints: {
            500: { slidesPerView: 1, spaceBetween: 10 },
            700: { slidesPerView: 2, spaceBetween: 12 },
            1000: { slidesPerView: 3, spaceBetween: 14 }
          },
          navigation: {
            nextEl: '.swiper-nav-btn.next',
            prevEl: '.swiper-nav-btn.prev',
          }
        });
      })
      .catch(error => console.error('Review Section error:', error));
    fetch('gallerysection.html')
      .then(response => response.text())
      .then(data => {
        document.getElementById('gallery-section-placeholder').innerHTML = data;
      });
    fetch('servicesection.html')
      .then(response => response.text())
      .then(html => {
        document.getElementById('serviceSectionContainer').innerHTML = html;
      })
      .catch(error => {
        console.error('Error loading service section:', error);
      });

    function scrollToSection(id) {
      const el = document.getElementById(id);
      if (el) {
        const header = document.getElementById('mainHeader');
        let offset = 0;
        if (window.innerWidth > 800 && header) {
          offset = header.offsetHeight;
        }
        const rect = el.getBoundingClientRect();
        const scrollTop = window.scrollY || window.pageYOffset;
        const top = rect.top + scrollTop - offset;
        window.scrollTo({ top: top, behavior: 'smooth' });
      }
    }
    function setActiveNav(links, clicked) {
      links.forEach(l => l.classList.remove('active'));
      clicked.classList.add('active');
    }
    const navLinks = document.querySelectorAll('nav .nav-link');
    navLinks.forEach(link => {
      link.addEventListener('click', function(e){
        e.preventDefault();
        setActiveNav(navLinks, this);
        const section = this.getAttribute('data-scroll');
        if (section) scrollToSection(section);
      });
    });
    const mobileNavLinks = document.querySelectorAll('.mobile-nav .nav-link');
    mobileNavLinks.forEach(link => {
      link.addEventListener('click', function(e){
        e.preventDefault();
        setActiveNav(mobileNavLinks, this);
        document.getElementById('mobileNav').style.display = 'none';
        const section = this.getAttribute('data-scroll');
        if (section) scrollToSection(section);
      });
    });
    const mobileMenuIcon = document.getElementById('mobileMenuToggle');
    const mobileNav = document.getElementById('mobileNav');
    mobileMenuIcon.addEventListener('click', function(e) {
      e.stopPropagation();
      mobileNav.style.display = (mobileNav.style.display === 'flex') ? 'none' : 'flex';
    });
    document.body.addEventListener('click', function(e) {
      if (window.innerWidth <= 800) mobileNav.style.display = 'none';
    });
    mobileNav.addEventListener('click', function(e) {
      e.stopPropagation();
    });

    const header = document.getElementById('mainHeader');
    function handleHeaderBg() {
      if(window.innerWidth <= 800) return;
      if(window.scrollY > 36) {
        header.classList.add('transparent');
      } else {
        header.classList.remove('transparent');
      }
    }
    window.addEventListener('scroll', handleHeaderBg);
    window.addEventListener('resize', handleHeaderBg);
    handleHeaderBg();
  </script>
</body>
</html>

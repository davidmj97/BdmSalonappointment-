<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Customer Dashboard - BDM Salon Booking</title>
  <style>
    :root {
      --bg: #000;
      --fg: #fff;
      --grey: #222;
      --accent: #fff;
    }
    html, body {
      margin: 0; padding: 0;
      width: 100vw; min-height: 100vh;
      background: var(--bg); color: var(--fg);
      font-family: 'Helvetica Neue', Arial, sans-serif;
      overscroll-behavior: none;
      -webkit-tap-highlight-color: transparent;
    }
    body {
      display: flex; flex-direction: column; min-height: 100vh;
    }
    .dashboard-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 18px 18px 12px 18px;
      background: var(--bg);
    }
    .user-name {
      font-size: 19px;
      font-weight: 600;
      color: var(--fg);
      letter-spacing: 0.5px;
      overflow: hidden; text-overflow: ellipsis; white-space: nowrap; max-width: 60vw;
    }
    .profile-icon {
      width: 38px; height: 38px; border-radius: 50%;
      background: var(--fg); color: var(--bg);
      display: flex; align-items: center; justify-content: center;
      font-size: 20px; font-weight: 700;
      box-shadow: 0 1px 8px #0003;
      cursor: pointer; user-select: none;
    }
    .main-content {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: stretch;
      justify-content: flex-start;
      background: var(--bg);
      padding: 8px 0 60px 0;
    }
    .menu-bar {
      position: fixed;
      bottom: 0; left: 0; right: 0;
      background: var(--bg);
      border-top: 1px solid #fff2;
      display: flex;
      justify-content: space-around;
      align-items: center;
      height: 62px;
      z-index: 100;
    }
    .menu-btn {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 7px 0 4px 0;
      border: none;
      background: none;
      color: var(--fg);
      font-size: 13px;
      font-weight: 500;
      gap: 2px;
      opacity: 0.85;
      cursor: pointer;
      transition: opacity 0.2s;
    }
    .menu-btn.active { opacity: 1; color: var(--accent);}
    .icon {
      width: 23px; height: 23px;
      display: block; margin-bottom: 3px;
      stroke: var(--fg); fill: none;
    }
    .menu-label { font-size: 12px; }
    .home-panel, .bookings-panel, .about-panel {
      display: none;
      padding: 26px 16px 0 16px;
      min-height: 70vh;
    }
    .panel-active { display: block; }
    .book-btn {
      width: 100%; max-width: 360px;
      margin: 36px auto 0 auto; display: block;
      background: var(--fg); color: var(--bg);
      border: none; border-radius: 12px;
      font-size: 19px; font-weight: 600;
      padding: 16px 0; letter-spacing: 1px;
      box-shadow: 0 2px 8px #2227;
      cursor: pointer; transition: background .18s, color .18s;
    }
    .book-btn:active { background: #ddd; color: #111; }
    @media (min-width: 600px) {
      .dashboard-header, .main-content, .menu-bar {
        max-width: 430px; margin: 0 auto;
      }
    }
    /* Hide scrollbars on mobile */
    ::-webkit-scrollbar { display: none; }
    body { -ms-overflow-style: none; scrollbar-width: none; }
  </style>
</head>
<body>
  <div class="dashboard-header">
    <div class="user-name" id="userName">User</div>
    <div class="profile-icon" id="profileIcon" title="Account"></div>
  </div>
  <div class="main-content">
    <div class="home-panel panel-active" id="homePanel">
      <button class="book-btn" onclick="alert('Booking flow coming soon!')">
        BOOK APPOINTMENT
      </button>
    </div>
    <div class="bookings-panel" id="bookingsPanel">
      <h2 style="font-size:17px;font-weight:600;margin-bottom:18px;">Your Bookings</h2>
      <p style="color:#aaa;font-size:15px;">No bookings yet. Book your first appointment!</p>
    </div>
    <div class="about-panel" id="aboutPanel">
      <h2 style="font-size:17px;font-weight:600;margin-bottom:18px;">About Us</h2>
      <p style="color:#aaa;font-size:15px;">
        BDM Salon Booking: Your style, our passion.<br/>
        Book a luxury grooming experience at your fingertips.<br/><br/>
        <span style="font-size:13px;color:#555;">Version 1.0</span>
      </p>
      <button class="book-btn" style="background:#111;color:#fff;margin-top:28px;font-size:15px;" onclick="signOut()">Sign Out</button>
    </div>
  </div>
  <nav class="menu-bar">
    <button class="menu-btn active" id="btnHome" onclick="showPanel('home')">
      <svg class="icon" viewBox="0 0 24 24"><path d="M4 12L12 5l8 7" stroke-width="2"/><path d="M4 12v7a1 1 0 0 0 1 1h4m6 0h4a1 1 0 0 0 1-1v-7" stroke-width="2"/><path d="M9 21V12h6v9" stroke-width="2"/></svg>
      <span class="menu-label">Home</span>
    </button>
    <button class="menu-btn" id="btnBookings" onclick="showPanel('bookings')">
      <svg class="icon" viewBox="0 0 24 24"><rect x="3" y="7" width="18" height="13" rx="2" stroke-width="2"/><path d="M16 3v4M8 3v4M3 11h18" stroke-width="2"/></svg>
      <span class="menu-label">Bookings</span>
    </button>
    <button class="menu-btn" id="btnAbout" onclick="showPanel('about')">
      <svg class="icon" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" stroke-width="2"/><path d="M12 16v-4" stroke-width="2"/><circle cx="12" cy="8" r="1" stroke-width="2" fill="var(--fg)"/></svg>
      <span class="menu-label">About Us</span>
    </button>
  </nav>
  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyAmimDsjW_pF2NGw-w-40QzTsgmf1tdqyI",
      authDomain: "bdmsalonappointment.firebaseapp.com",
      projectId: "bdmsalonappointment",
      storageBucket: "bdmsalonappointment.appspot.com",
      messagingSenderId: "123933913893",
      appId: "1:123933913893:web:c1f57caf4dc2a5440ba0cc",
      measurementId: "G-Q0FVZRVS64"
    };
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    // Show user info or redirect to login
    auth.onAuthStateChanged(function(user) {
      if (user) {
        document.getElementById('userName').textContent = user.displayName || "User";
        let letter = user.displayName ? user.displayName.trim()[0].toUpperCase() : "U";
        document.getElementById('profileIcon').textContent = letter;
      } else {
        window.location.href = 'index.html';
      }
    });

    function signOut() {
      auth.signOut().then(() => {
        window.location.href = 'index.html';
      });
    }

    // Tab navigation logic
    function showPanel(panel) {
      // Panels
      document.getElementById('homePanel').classList.remove('panel-active');
      document.getElementById('bookingsPanel').classList.remove('panel-active');
      document.getElementById('aboutPanel').classList.remove('panel-active');
      // Menu buttons
      document.getElementById('btnHome').classList.remove('active');
      document.getElementById('btnBookings').classList.remove('active');
      document.getElementById('btnAbout').classList.remove('active');
      // Show selected
      if (panel === 'home') {
        document.getElementById('homePanel').classList.add('panel-active');
        document.getElementById('btnHome').classList.add('active');
      } else if (panel === 'bookings') {
        document.getElementById('bookingsPanel').classList.add('panel-active');
        document.getElementById('btnBookings').classList.add('active');
      } else if (panel === 'about') {
        document.getElementById('aboutPanel').classList.add('panel-active');
        document.getElementById('btnAbout').classList.add('active');
      }
    }
  </script>
</body>
</html>

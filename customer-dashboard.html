<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Dashboard ‚Äì BDM Salon</title>
<style>
  :root{--bg:#000;--fg:#fff;--accent:#ffcf33;}
  html,body{margin:0;padding:0;width:100%;min-height:100vh;background:var(--bg);color:var(--fg);font-family:'Helvetica Neue',Arial,sans-serif;}
  body{display:flex;flex-direction:column}   ::-webkit-scrollbar{display:none;}

  /* ===== HEADER ===== */
  .header{display:flex;align-items:center;justify-content:space-between;padding:14px 18px;background:#000;}
  .logo{font-size:18px;font-weight:700;letter-spacing:.5px;}
  .right-box{display:flex;align-items:center;gap:12px;}
  .points-badge{font-size:12px;padding:4px 8px;background:#111;border-radius:12px;}
  .profile-icon{position:relative;width:36px;height:36px;border-radius:50%;background:var(--fg);color:var(--bg);display:flex;align-items:center;justify-content:center;font-weight:700;cursor:pointer;}
  .profile-icon::after{content:'‚úé';position:absolute;top:-4px;right:-4px;width:14px;height:14px;border-radius:50%;background:var(--accent);color:#000;font-size:9px;display:flex;align-items:center;justify-content:center;border:1px solid #000;}

  /* ===== MAIN ===== */
  .main{flex:1;display:flex;flex-direction:column;padding:16px 16px 70px;}
  .welcome{font-size:18px;font-weight:600;margin-bottom:20px;}
  .cta-btn{width:100%;max-width:360px;background:#fff;color:#000;border:none;border-radius:10px;font-size:17px;font-weight:700;padding:14px 0;margin-bottom:26px;cursor:pointer;}

  /* Service cards */
  .services-title{font-size:15px;font-weight:700;margin-bottom:12px;}
  .services{display:flex;gap:14px;overflow-x:auto;padding-bottom:6px;}
  .service-card{min-width:220px;background:#111;border-radius:12px;padding:14px;color:#eee;flex-shrink:0;display:flex;flex-direction:column;}
  .svc-row{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px;}
  .svc-name{font-size:15px;font-weight:600;}
  .svc-price{font-size:15px;font-weight:700;color:var(--accent);}
  .book-btn-mini{margin-top:auto;background:var(--accent);color:#000;border:none;border-radius:8px;padding:8px 0;font-size:14px;font-weight:600;cursor:pointer;}

  /* Info / gallery / testimonials */
  .info-card{background:#111;border-radius:12px;padding:14px;color:#fff;font-size:13px;}
  .carousel{position:relative;}
  .carousel-track{display:flex;gap:14px;overflow-x:auto;scroll-snap-type:x mandatory;padding-bottom:6px;}
  .carousel-track>*{scroll-snap-align:start;}
  .arrow{display:none;position:absolute;top:50%;transform:translateY(-50%);background:#000b;color:#fff;border:none;width:32px;height:32px;border-radius:50%;cursor:pointer}
  .arrow svg{width:18px;height:18px;}
  .arrow.left{left:-14px;} .arrow.right{right:-14px;}

  .gallery-img{width:220px;height:140px;object-fit:cover;border-radius:10px;flex-shrink:0;}

  .testimonial-card{min-width:240px;background:#111;border-radius:10px;padding:14px;font-size:13px;color:#fff;flex-shrink:0;}

  /* Footer social row */
  .social-row{display:flex;align-items:center;gap:18px;font-size:0;margin-top:12px;}
  .social-row a{display:inline-block;}
  .social-row svg{width:28px;height:28px;fill:#fff;}
  .call-btn{margin-left:auto;background:#fff;color:#000;font-size:13px;padding:8px 12px;border:none;border-radius:8px;cursor:pointer;}

  /* ===== MENU BAR (mobile) ===== */
  .menu{position:fixed;bottom:0;left:0;right:0;height:58px;background:#000;border-top:1px solid #fff2;display:flex;justify-content:space-around;z-index:80;}
  .menu-btn{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:12px;color:#fff;opacity:.8;border:none;background:none;}
  .menu-btn.active{opacity:1;color:var(--accent);}
  .menu-btn svg{width:20px;height:20px;margin-bottom:2px;stroke:currentColor;fill:none;}

  /* ===== ACCOUNT SHEET ===== */
  .sheet{position:fixed;left:0;right:0;bottom:-100%;background:#fff;color:#000;border-top-left-radius:18px;border-top-right-radius:18px;box-shadow:0 -4px 20px #0005;transition:bottom .35s ease;z-index:100;padding:24px 22px 32px;max-height:88vh;overflow-y:auto;font-size:14px;}
  .sheet.open{bottom:0;}  .sheet h3{margin:0 0 18px;text-align:center;font-size:17px;}
  .close-x{position:absolute;top:12px;right:14px;font-size:20px;font-weight:600;cursor:pointer;}
  .sheet input{width:100%;padding:10px;font-size:14px;border:1.2px solid #ccc;border-radius:6px;margin-bottom:12px;}
  .sheet button{padding:12px;font-size:14px;border:none;border-radius:8px;cursor:pointer;}
  .save-btn{background:#000;color:#fff;margin:14px auto 0;display:block;width:140px;}
  .signout-btn{background:#111;color:#fff;width:100%;margin-top:20px;}
  .reset-link{font-size:12px;text-align:center;margin-top:2px;}
  .reset-link a{color:#000;font-weight:600;text-decoration:none;}  .reset-link a:hover{text-decoration:underline;}

  /* ===== DESKTOP (‚â•900px) ===== */
  @media(min-width:900px){
    .main{flex-direction:row;gap:30px;padding:28px 8%;}
    .left-col{flex:3;}   .right-col{flex:2;}
    .services,.carousel-track{flex-wrap:nowrap;overflow:visible;}
    .service-card{width:calc(50% - 14px);}   .gallery-img{width:calc(50% - 14px);}
    .menu{display:none;}
    .arrow{display:flex;}
    .top-tabs{display:flex;gap:22px;margin-bottom:20px;}
    .top-tab{font-size:14px;font-weight:600;cursor:pointer;opacity:.6;} .top-tab.active{opacity:1;color:var(--accent);}
  }
</style>
</head>
<body>
  <!-- ===== Header ===== -->
  <header class="header">
    <div class="logo">BDM Salon</div>
    <div class="right-box">
      <span class="points-badge" id="pointsBadge">0 points</span>
      <div class="profile-icon" id="profileIcon"></div>
    </div>
  </header>

  <!-- ===== Main ===== -->
  <main class="main">
    <!-- LEFT column (mobile=whole) -->
    <section class="left-col">
      <div class="welcome" id="welcomeMsg"></div>
      <button class="cta-btn" onclick="alert('Booking flow coming soon!')">Book Now</button>

      <!-- Top services -->
      <h3 class="services-title">Top Services</h3>
      <div class="services" id="servicesContainer"></div>

      <!-- Offers -->
      <h3 class="services-title" style="margin-top:26px;">Special Offers</h3>
      <div class="info-card">
        <p style="margin:0 0 6px;"><strong>üéÅ Earn 150 points</strong> on your first booking</p>
        <p style="margin:0;"><strong>üí∏ 20 % OFF</strong> selected hair & nail services this week!</p>
      </div>

      <!-- Gallery -->
      <h3 class="services-title" style="margin-top:28px;">Gallery</h3>
      <div class="carousel">
        <button class="arrow left"  onclick="scrollByTrack('galleryTrack',-1)"><svg viewBox="0 0 24 24"><path d="M15 6 9 12l6 6" stroke="#fff" stroke-width="2"/></svg></button>
        <div class="carousel-track" id="galleryTrack">
          <img src="https://images.pexels.com/photos/705255/pexels-photo-705255.jpeg"  class="gallery-img" alt="">
          <img src="https://images.pexels.com/photos/3992875/pexels-photo-3992875.jpeg" class="gallery-img" alt="">
          <img src="https://images.pexels.com/photos/1813272/pexels-photo-1813272.jpeg" class="gallery-img" alt="">
        </div>
        <button class="arrow right" onclick="scrollByTrack('galleryTrack',1)"><svg viewBox="0 0 24 24"><path d="m9 6 6 6-6 6" stroke="#fff" stroke-width="2"/></svg></button>
      </div>

      <!-- Testimonials -->
      <h3 class="services-title" style="margin-top:30px;">What Clients Say</h3>
      <div class="carousel">
        <button class="arrow left"  onclick="scrollByTrack('testiTrack',-1)"><svg viewBox="0 0 24 24"><path d="M15 6 9 12l6 6" stroke="#fff" stroke-width="2"/></svg></button>
        <div class="carousel-track" id="testiTrack">
          <div class="testimonial-card">‚ÄúBest haircut I've had in years!‚Äù<br><em>‚Äì Sophia L.</em></div>
          <div class="testimonial-card">‚ÄúLovely staff and relaxing vibe.‚Äù<br><em>‚Äì Aman G.</em></div>
          <div class="testimonial-card">‚ÄúColour came out perfect. 10/10.‚Äù<br><em>‚Äì Priya S.</em></div>
          <div class="testimonial-card">‚ÄúGreat manicure, lasted 3 weeks!‚Äù<br><em>‚Äì Kate D.</em></div>
          <div class="testimonial-card">‚ÄúBooking was quick and easy.‚Äù<br><em>‚Äì Marco V.</em></div>
        </div>
        <button class="arrow right" onclick="scrollByTrack('testiTrack',1)"><svg viewBox="0 0 24 24"><path d="m9 6 6 6-6 6" stroke="#fff" stroke-width="2"/></svg></button>
      </div>

      <!-- Social -->
      <h3 class="services-title" style="margin-top:32px;">Follow us on</h3>
      <div class="social-row">
        <a href="https://instagram.com" target="_blank" aria-label="Instagram">
          <svg viewBox="0 0 24 24"><path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5z" stroke-width="2" stroke="#fff" fill="none"/><circle cx="12" cy="12" r="3.5" fill="#fff"/><circle cx="17.5" cy="6.5" r="1.5" fill="#fff"/></svg>
        </a>
        <a href="https://facebook.com" target="_blank" aria-label="Facebook">
          <svg viewBox="0 0 24 24"><path d="M15 2h-3a5 5 0 0 0-5 5v3H5v4h2v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z" fill="#fff"/></svg>
        </a>
        <a href="https://wa.me/123456789" target="_blank" aria-label="WhatsApp">
          <svg viewBox="0 0 24 24"><path d="M4.5 20 6 15a8 8 0 1 1 2 2l-3.5 3z" stroke="#fff" stroke-width="2" fill="none"/><path d="M16.1 13.6s-.9-.4-1.1-.5-.5-.1-.8.2c-.2.3-.9 1-.9 1s0 .2.2.4c.2.2.3.5.7.9s1.2 1 2.3 1.3c1.1.3 1.3.2 1.5.2s.7-.3.8-.5.3-.5.3-.8-.1-.6-.2-.8c-.2-.3-.9-1.1-1.2-1.2z" fill="#fff"/></svg>
        </a>
        <button class="call-btn" onclick="location.href='tel:+123456789'">üìû Call Us</button>
      </div>
    </section>

    <!-- RIGHT column (desktop) -->
    <section class="right-col" id="rightCol" style="display:none;">
      <div class="top-tabs">
        <span class="top-tab active" id="tabBookings" onclick="showPanel('bookings')">Bookings</span>
        <span class="top-tab"       id="tabAbout"    onclick="showPanel('about')">About</span>
      </div>

      <div id="bookingsPanel">
        <h2 style="font-size:17px;font-weight:600;margin-bottom:18px;">Your Bookings</h2>
        <p style="color:#aaa;font-size:14px;">No bookings yet. Book your first appointment!</p>
      </div>

      <div id="aboutPanel" style="display:none;">
        <h2 style="font-size:17px;font-weight:600;margin-bottom:18px;">About Us</h2>
        <p style="color:#aaa;font-size:14px;">BDM Salon Booking: Your style, our passion.<br/>Luxury grooming at your fingertips.</p>
        <span style="font-size:12px;color:#555;">Version 1.0</span>
      </div>
    </section>
  </main>

  <!-- ===== Bottom nav (mobile only) ===== -->
  <nav class="menu">
    <button class="menu-btn active" id="btnHome" onclick="scrollToTop()">
      <svg viewBox="0 0 24 24"><path d="M4 12 12 5l8 7" stroke-width="2"/><path d="M4 12v7a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-7" stroke-width="2"/></svg>
      Home
    </button>
    <button class="menu-btn" id="btnBookings" onclick="showPanel('bookings')">
      <svg viewBox="0 0 24 24"><rect x="3" y="7" width="18" height="13" rx="2" stroke-width="2"/><path d="M16 3v4M8 3v4M3 11h18" stroke-width="2"/></svg>
      Bookings
    </button>
    <button class="menu-btn" id="btnAbout" onclick="showPanel('about')">
      <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" stroke-width="2"/><path d="M12 16v-4" stroke-width="2"/><circle cx="12" cy="8" r="1" stroke-width="2"/></svg>
      About
    </button>
  </nav>

  <!-- ===== Account sheet ===== -->
  <aside class="sheet" id="accountSheet">
    <span class="close-x" id="closeSheetX">&times;</span>
    <h3>Account</h3>
    <input id="displayName" placeholder="Full name">
    <input id="phone" placeholder="Phone number">
    <input id="email" placeholder="Email">
    <div class="reset-link">Forgot password? <a href="#" id="resetPwdLink">Reset</a></div>

    <!-- inline reset form (hidden) -->
    <div id="resetBox" style="display:none;margin-top:10px;">
      <input id="resetEmail" placeholder="Enter your email">
      <button class="save-btn" id="sendResetBtn" style="width:100%;max-width:160px;">Send</button>
    </div>

    <button class="save-btn" id="saveBtn">Save Changes</button>
    <button class="signout-btn" onclick="signOut()">Sign Out</button>
  </aside>

<!-- ================= Firebase & Logic ================== -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
<script>
/* ---------- Firebase init ---------- */
firebase.initializeApp({apiKey:"AIzaSyAmimDsjW_pF2NGw-w-40QzTsgmf1tdqyI",authDomain:"bdmsalonappointment.firebaseapp.com",projectId:"bdmsalonappointment"});
const auth=firebase.auth();

/* ---------- DOM refs ---------- */
const profileIcon   = document.getElementById('profileIcon');
const sheet         = document.getElementById('accountSheet');
const closeSheetX   = document.getElementById('closeSheetX');
const saveBtn       = document.getElementById('saveBtn');
const displayNameIn = document.getElementById('displayName');
const phoneIn       = document.getElementById('phone');
const emailIn       = document.getElementById('email');
const pointsBadge   = document.getElementById('pointsBadge');
const welcomeMsg    = document.getElementById('welcomeMsg');
const resetPwdLink  = document.getElementById('resetPwdLink');
const resetBox      = document.getElementById('resetBox');
const sendResetBtn  = document.getElementById('sendResetBtn');
const resetEmailIn  = document.getElementById('resetEmail');

/* ---------- Services ---------- */
const services=[{name:"Haircut",price:"$25",desc:"Classic cut & style",points:30},{name:"Hair Coloring",price:"$60",desc:"Full colour",points:70},{name:"Beard Trim",price:"$15",desc:"Shape & line-up",points:20},{name:"Facial",price:"$40",desc:"Deep cleansing",points:45},{name:"Manicure",price:"$22",desc:"Clean & polish",points:28},{name:"Pedicure",price:"$28",desc:"Spa pedicure",points:34},{name:"Make-up",price:"$55",desc:"Event glam",points:65},{name:"Blow-dry",price:"$18",desc:"Quick styling",points:22},{name:"Hair Spa",price:"$50",desc:"Nourishing mask",points:60},{name:"Nail Art",price:"$30",desc:"Creative designs",points:35}];
const servicesContainer=document.getElementById('servicesContainer');
services.forEach(s=>{
  servicesContainer.insertAdjacentHTML('beforeend',`
    <div class="service-card">
      <div class="svc-row">
        <span class="svc-name">${s.name}</span>
        <span class="svc-price">${s.price}</span>
      </div>
      <div class="service-meta">${s.points} points</div>
      <p class="service-desc">${s.desc}</p>
      <button class="book-btn-mini" onclick="alert('Booking flow coming soon!')">Book Now</button>
    </div>`);});

/* ---------- Auth state ---------- */
auth.onAuthStateChanged(user=>{
  if(!user){location.href='index.html';return;}
  profileIcon.textContent=(user.displayName||'U')[0].toUpperCase();
  welcomeMsg.textContent=`Hello ${(user.displayName||'there')}, you're all set ‚Äì ready to book your next session?`;
  pointsBadge.textContent="120 points";
  displayNameIn.value=user.displayName||''; emailIn.value=user.email||''; phoneIn.value=localStorage.getItem('phone_'+user.uid)||'';
});

/* ---------- Sheet ---------- */
profileIcon.onclick=()=>sheet.classList.add('open');
closeSheetX.onclick =()=>sheet.classList.remove('open');
saveBtn.onclick=async()=>{
  const user=auth.currentUser;if(!user)return;
  try{
    if(displayNameIn.value!==user.displayName)await user.updateProfile({displayName:displayNameIn.value});
    if(emailIn.value!==user.email)await user.updateEmail(emailIn.value);
    localStorage.setItem('phone_'+user.uid,phoneIn.value);
    alert('Saved!');
    sheet.classList.remove('open');
    welcomeMsg.textContent=`Hello ${(displayNameIn.value||'there')}, you're all set ‚Äì ready to book your next session?`;
    profileIcon.textContent=(displayNameIn.value||'U')[0].toUpperCase();
  }catch(e){alert(e.message);}
};

/* ---------- Reset password ---------- */
resetPwdLink.onclick=e=>{e.preventDefault();resetBox.style.display='block';resetEmailIn.value=emailIn.value;};
sendResetBtn.onclick=async()=>{try{await auth.sendPasswordResetEmail(resetEmailIn.value.trim());alert('Reset e-mail sent!');resetBox.style.display='none';}catch(e){alert(e.message);}};

/* ---------- Sign-out ---------- */
function signOut(){auth.signOut().then(()=>location.href='index.html');}

/* ---------- Carousel arrows ---------- */
function scrollByTrack(id,dir){
  const el=document.getElementById(id); const card=el.firstElementChild; if(!card)return;
  const step=card.getBoundingClientRect().width+14; el.scrollBy({left:dir*step,behavior:'smooth'});
}

/* ---------- Simple nav stubs ---------- */
function scrollToTop(){window.scrollTo({top:0,behavior:'smooth'});}
function showPanel(p){
  const isDesktop=innerWidth>=900;
  if(isDesktop){
    document.getElementById('tabBookings').classList.toggle('active',p==='bookings');
    document.getElementById('tabAbout').classList.toggle('active',p==='about');
    document.getElementById('bookingsPanel').style.display=p==='bookings'?'block':'none';
    document.getElementById('aboutPanel').style.display=p==='about'?'block':'none';
  }else{
    document.querySelectorAll('.menu-btn').forEach(b=>b.classList.remove('active'));
    if(p==='bookings')document.getElementById('btnBookings').classList.add('active');
    if(p==='about')document.getElementById('btnAbout').classList.add('active');
    alert('Screen coming soon!');
  }
}
/* Show right column on desktop */
if(innerWidth>=900)document.getElementById('rightCol').style.display='block';
</script>
</body>
</html>
